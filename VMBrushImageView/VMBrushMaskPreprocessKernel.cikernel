/*
A Core Image kernel routine that preprocesses the brush mask.

The code does nothing but converts white color's alpha value to 0.
*/

kernel vec4 brushMaskPreprocessor(sampler image)
{
	vec4 c = sample(image, samplerCoord(image));
	c = vec4(c.rgb, compare(c.r + c.g + c.b - 1.1, c.a, 0.0));
	return c;
}
